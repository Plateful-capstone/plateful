<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials/head :: head ('Plateful login page')" ></head>
<body>
<div class="page-wrapper">
  <header th:replace="partials/navbar :: navbar"></header>
  <div class="container">
    <h1>Editing Your Profile:</h1>
    <form th:action="@{/profile/update}" th:method="post" class="">
      <div class="">
        <label for="username">Username:</label>
        <input id="username" name="username" class="" type="text" th:value="${user.username}">
      </div>
      <div>
        <label for="email">Email:</label>
        <input type="email" name="email" id="email" th:value="${user.email}">
      </div>
      <div>
        <label for="password">Password:</label>
        <input id="password" name="password" type="password" onkeyup="passConfirm()">
      </div>
      <div>
        <label for="confirm_password">Confirm Password:</label>
        <input id="confirm_password" name="confirm_password" type="password">
      </div>
      <input name="user-id" hidden="hidden" th:value="${user.id}">
    </form>
    <div class="justify-center align-center text-center" id="message"></div>
    <input type="submit" class="button">

  </div>
  <footer th:replace="partials/footer :: footer"></footer>
</div>

<script>
  function passConfirm() {
    let password = document.getElementById(`password`).value;
    let confirmPassword = document.getElementById(`confirm_password`).value;
    let message = document.getElementById(`message`);
    if (password === confirmPassword) {
      message.style.color = `lightgreen`;
      message.innerHTML = `Passwords match.`
    } else {
      message.style.color = `red`;
      message.innerHTML = `Passwords do not match.`
    }
    document.getElementById(`password`).onkeyup = passConfirm;
    document.getElementById(`confirm_password`).onkeyup = passConfirm;
  }
</script>
</body>
</html>